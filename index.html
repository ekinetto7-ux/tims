<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>運転画面</title>

<style>
body {
  margin: 0;
  background: black;
  color: white;
  font-family: "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}

.hidden { display: none; }

/* ===== 初期選択 ===== */
#start {
  text-align: center;
}

.start-btn {
  width: 220px;
  padding: 18px;
  margin: 12px;
  font-size: 22px;
  border-radius: 14px;
  border: none;
  background: #e6e6e6;
  color: #007aff;
  font-weight: bold;
}

/* ===== メイン表示 ===== */
#main {
  text-align: center;
}

#line {
  margin-bottom: 18px;
  font-size: 16px;
}

#stations {
  margin: 20px 0;
}

.station {
  font-size: 22px;
  margin: 8px 0;
  color: white;
}

.next {
  color: #2da3ff;
}

.next::before {
  content: "次 ";
  margin-right: 6px;
}

.current {
  font-size: 28px;
  color: #ffd400;
}

/* 一瞬消す用 */
.fade {
  visibility: hidden;
}

/* ===== ボタン ===== */
#nextBtn {
  margin-top: 16px;
  width: 160px;
  padding: 14px;
  font-size: 20px;
  border-radius: 10px;
  border: none;
  background: #e6e6e6;
  color: #007aff;
  font-weight: bold;
}

#emergency {
  margin-top: 16px;
  width: 160px;
  padding: 16px;
  font-size: 20px;
  border-radius: 6px;
  border: none;
  background: red;
  color: white;
}
</style>
</head>

<body>

<!-- 初期選択 -->
<div id="start">
  <div style="margin-bottom:16px;">初期選択</div>
  <button class="start-btn" onclick="start()">運転士</button>
  <button class="start-btn" onclick="start()">車掌</button>
  <button class="start-btn" onclick="start()">ワンマン</button>
</div>

<!-- メイン画面 -->
<div id="main" class="hidden">
  <div id="line">内房線・総武快速線（君津 → 東京）</div>

  <div id="stations">
    <!-- JSで描画 -->
  </div>

  <button id="nextBtn" onclick="nextStation()">次駅</button><br>
  <button id="emergency">非常</button>
</div>

<script>
/* ===== 駅データ（固定） ===== */
const stations = [
  "君津",
  "木更津",
  "巌根",
  "袖ケ浦",
  "五井",
  "蘇我",
  "千葉",
  "東京"
];

let index = 0;

/* ===== 初期開始 ===== */
function start() {
  document.getElementById("start").classList.add("hidden");
  document.getElementById("main").classList.remove("hidden");
  render();
}

/* ===== 駅描画 ===== */
function render() {
  const area = document.getElementById("stations");
  area.innerHTML = "";

  const current = document.createElement("div");
  current.className = "station current";
  current.textContent = stations[index];
  area.appendChild(current);

  if (index + 1 < stations.length) {
    const next = document.createElement("div");
    next.className = "station next";
    next.textContent = stations[index + 1];
    area.appendChild(next);
  }

  if (index + 2 < stations.length) {
    const after = document.createElement("div");
    after.className = "station";
    after.textContent = stations[index + 2];
    area.appendChild(after);
  }
}

/* ===== 次駅処理 ===== */
function nextStation() {
  if (index + 1 >= stations.length) return;

  const area = document.getElementById("stations");
  area.classList.add("fade");

  setTimeout(() => {
    index++;
    render();
    area.classList.remove("fade");
  }, 150);
}
</script>

</body>
</html>
